<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste GPS CBA</title>
    <style>
        body { font-family: sans-serif; padding: 20px; text-align: center; }
        .status { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #f0f0f0; min-height: 50px; font-weight: bold; }
        .btn { padding: 15px 30px; background: #1565C0; color: white; border: none; border-radius: 8px; font-size: 18px; margin-top: 20px; }
        .error { color: red; background: #ffebee; }
        .success { color: green; background: #e8f5e9; }
    </style>
</head>
<body>

    <h1>üì° Teste de GPS</h1>
    <p>Verifique se o seu link come√ßa com <b>https://</b></p>
    
    <div id="result" class="status">Aguardando teste...</div>
    
    <button class="btn" onclick="testarGPS()">TESTAR AGORA</button>

    <script>
        function testarGPS() {
            const log = document.getElementById('result');
            log.className = "status";
            log.innerHTML = "üîÑ Solicitando acesso ao GPS...";

            if (!navigator.geolocation) {
                log.innerHTML = "‚ùå Erro: Seu navegador n√£o tem GPS.";
                log.className = "status error";
                return;
            }

            navigator.geolocation.getCurrentPosition(
                // SUCESSO
                (position) => {
                    log.className = "status success";
                    log.innerHTML = `‚úÖ SUCESSO!<br>
                    Lat: ${position.coords.latitude}<br>
                    Lon: ${position.coords.longitude}<br>
                    Precis√£o: ${position.coords.accuracy}m`;
                },
                // ERRO
                (err) => {
                    log.className = "status error";
                    let motivo = "";
                    
                    if (err.code === 1) {
                        motivo = "ERRO 1 (Permiss√£o Negada): O Android liberou o Chrome, mas o CHROME bloqueou este site espec√≠fico. <br>Solu√ß√£o: Clique no Cadeado üîí na barra de endere√ßo > Permiss√µes > Redefinir.";
                    } else if (err.code === 2) {
                        motivo = "ERRO 2 (Indispon√≠vel): O GPS do celular est√° desligado ou voc√™ est√° em local fechado sem sinal.";
                    } else if (err.code === 3) {
                        motivo = "ERRO 3 (Timeout): Demorou muito. O sinal est√° fraco.";
                    } else {
                        motivo = "ERRO " + err.code + ": " + err.message;
                    }

                    log.innerHTML = "‚ùå FALHA: " + motivo;
                },
                // CONFIGURA√á√ÉO
                { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
            );
        }
    </script>
</body>
</html>
